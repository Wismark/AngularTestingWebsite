<div class="container p-0" style="width: 1200px">
    <div class="d-flex justify-content-center mt-2">
        <button (click)="logout()" class="btn btn-primary"> Logout </button>
        <button (click)="back()" class="btn btn-primary ml-3"> Back </button>
    </div>
    <hr>
    <h3>{{Title}}</h3>

    <div class="d-flex flex-row ">
        <div class="p-3">
            <h4 class="d-inline-flex">Test title:</h4>
            <h4 class="d-flex">Time limitation (min):</h4>
        </div>
        <div class="">
            <input type="text"  [(ngModel)]="testInfo.Name" (change)='stateChange()' class="form-control m-2" id="title">
            <input type="text"  [(ngModel)]="testInfo.TimeLimitation" (change)='stateChange()' class="form-control m-2" id="timeLim">
        </div>
        <div class="form-check ml-3 mt-3">
            <label class="form-check-label">
                <input type="checkbox" [(ngModel)]="testInfo.Active" (change)='stateChange()'/>
                Active
            </label>
        </div>
    </div>

    <hr>
    <h3>Test area:</h3>
    <div class="container d-inline-flex d-flex flex-column" style="width: 320px"> <!-- TODO: Style -->
        <table class="table table-bordered"> 
            <thead>
                <th style="width: 170px">Name</th>
                <th>Delete</th>
            </thead>
            <tr *ngFor="let area of areas; let i = index">
                <td>
                    <input type="text" class="form-control m-2" name='AreaName' [(ngModel)]='area.AreaName' (change)='stateChange()' style="width: 150px">
                </td>
                <td>
                        <label class="form-check-label mt-3">
                                <input type="checkbox"  (click)="onDeleteAreas(i)" />
                                Delete
                        </label>
                </td>
            </tr>
        </table>
        <div class="d-flex justify-content-between bd-highlight">
            <button class="btn btn-primary " (click)="addAreaClick()">Add New</button>
            <button class="btn btn-primary " (click)="removeAreasClick()">Delete</button>
        </div>
    </div>
    <hr>
    <h3>Questions:</h3>
    <div class="container p-0"> 
        <table class="table table-bordered">
            <thead>
                <th>Text</th>
                <th>Images</th>
                <th>Question type</th>
                <th>Answers</th>
                <th>Area</th>
                <th>Edit</th>
                <th>Delete</th>
            </thead>
            <tr *ngFor="let question of questions; let i = index">
                <td>
                    <!-- <input type="text" class="form-control m-2" id="title" value="{{question.Text}}"  readonly style="width: 250px"> -->
                    <label>{{question.Text}}</label>
                </td>
                <td>
                    <!-- <input type="text" class="form-control m-2" id="title" value="{{question.NumOfImages}}" readonly  style="width: 50px"> -->
                    <label>{{question.NumOfImages}}</label>
                </td>
                <td>
                    <!-- <input type="text" class="form-control m-2" id="title" value="{{question.QuestionType}}" readonly  style="width: 100px"> -->
                    <label>{{question.QuestionType}}</label>
                </td>
                <td>
                    <!-- <input type="text" class="form-control m-2" id="title" value="{{question.Answers}}"  readonly style="width: 300px"> -->
                    <label>{{question.Answers}}</label>
                </td>
                <td>
                    <label>{{question.Area}}</label>
                </td>
                <td>
                    <button class="btn btn-primary mt-1" (click)="editQuestion(i)">Edit</button>
                </td>
                <td >
                    <label class="form-check-label mt-3" style="width: 70px">
                        <input type="checkbox"  (click)="onDeleteQuestions(i)" />
                        Delete
                    </label>
                </td> 
            </tr>
        </table>
        <div class="d-flex justify-content-between" >
            <button (click)="addNewQuestionClick()" class="btn btn-primary  "> Add new </button>
            <button (click)="removeQuestionClick()" class="btn btn-primary m-0 "> Delete  </button>
        </div>
    </div>
    <hr>
    <div *ngIf="oldTest.lenght>0" class="container p-0">   
        <h3>Old Versions:</h3>
        <table class="table table-bordered">
            <thead>
                <th>Old title</th>
                <th>Number of questions</th>
                <th>Start date</th>
                <th>Finish date</th>
                <th>View</th>
            </thead>
            <!-- TODO -->
            <!--   *ngFor="let question of questions; let i = index" -->
            <tr >
                <td>
                    <input type="text" class="form-control m-2" id="title" value="" style="width: 150px">
                </td>
                <td>
                    <input type="text" class="form-control m-2" id="title" value="" style="width: 100px">
                </td>
                <td>
                    <input type="text" class="form-control m-2" id="title" value="" style="width: 150px">
                </td>
                <td>
                    <input type="text" class="form-control m-2" id="title" value="" style="width: 150px">
                </td>
                <td>
                    <button class="btn btn-primary mt-1" (click)="ViewOldTest()">View</button>
                </td>
            </tr>
        </table>
    </div>
    <div class="d-flex justify-content-center">
            <button (click)="saveChanges()" class="btn btn-secondary"> Save changes </button>
            <button (click)="cancelChanges()" class="btn btn-secondary ml-3"> Cancel changes </button>
    </div>
    <br/>
</div>